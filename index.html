<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            container="width=device-width, initial-scale=1.0"
        />
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
        <title>to do app</title>
    </head>
    <body>
        <script>
            let container = document.createElement("div");
            container.className = "container";

            let header = document.createElement("header");
            let todoInput = document.createElement("input");
            todoInput.type = "text";
            todoInput.className = "game";
            todoInput.id = "todoInput";
            todoInput.placeholder = "Enter your next task";
            let addBtn = document.createElement("button");
            addBtn.textContent = "➕";
            addBtn.className = "add game";

            document.documentElement.append(container);
            container.append(header);
            header.append(todoInput);
            header.append(addBtn);

            let content = document.createElement("ul");
            container.append(content);

            window.onload = () => {
                todoInput.focus();
            };

            addBtn.addEventListener("click", (e) => {
                let validInput = false;

                if (todoInput.value !== "") {
                    header.style.margin = "0 0 20px 0";
                    let task = document.createElement("li");
                    content.append(task);
                    let taskP = document.createElement("p");
                    task.append(taskP);
                    taskP.className = "game";
                    taskP.textContent =
                        todoInput.value.split("")[0].toUpperCase() +
                        todoInput.value.split("").slice(1).join("");
                    let delBtn = document.createElement("button");
                    task.append(delBtn);
                    delBtn.className = "game";
                    delBtn.textContent = "❌";

                    todoInput.value = "";
                    todoInput.focus();
                    validInput = true;

                    delBtn.addEventListener("click", () => {
                        task.remove();
                    });
                }

                if (validInput === false) {
                    e.preventDefault();
                }
            });
        </script>
    </body>
</html>
